<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Expense List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<div th:replace="dashboard :: dashboard"></div>
<body class="container mt-5">

<h2 class="text-center mb-4">Expense List</h2>

<!-- success/error messages -->
<div th:if="${successMsg}" class="alert alert-success" th:text="${successMsg}"></div>
<div th:if="${errorMsg}" class="alert alert-danger" th:text="${errorMsg}"></div>

<!-- Expense cards -->
<div class="row">
    <div class="col-md-6 offset-md-3">
        <div th:each="expense : ${expenses}" class="card mb-3 shadow-sm">
            <div class="card-body">
                <h5 class="card-title text-success fw-bold" th:text="${expense.productName}"></h5>
                <p class="card-text">
                    <strong>Amount:</strong> <span th:text="${expense.productAmount}"></span><br>
                    <strong>Description:</strong> <span th:text="${expense.productDescription}"></span><br>
                    <strong>Date:</strong> <span th:text="${#temporals.format(expense.createdAt, 'yyyy-MM-dd')}"></span>
                </p>
                <!-- Update button -->
                <a class="btn btn-primary btn-sm" th:href="@{/editExpense/{id}(id=${expense.productId})}">Update</a>
            </div>
        </div>
    </div>
</div>

<!-- Add button -->
<div class="text-center mb-5">
    <a th:href="@{/add-expensesform}" class="btn btn-success">Add New Expense</a>
</div>

</body>
</html>
